<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap>
	<typeAlias alias="article" type="com.ssi.dal.domain.Article" />

	<resultMap class="article" id="articleMap">
		<result column="d_id" property="id"/>
		<result column="d_web_id" property="webId"/>
		<result column="d_title" property="title"/>
		<result column="d_acticle_url" property="articleUrl"/>
		<result column="d_article_real_url" property="acticleRealUrl"/>
		<result column="d_article_xml_url" property="acticleXmlUrl"/>							
		<result column="d_text" property="text"/>	
		<result column="d_createtime" property="createTime"/>						
		<result column="d_intro" property="intro"/>						
		<result property="website" column="d_web_id" select="GET_WEBSITE_BY_ID" />	
		<!-- 
		<result property="images" column="d_id" select="GET_IMAGE_BY_ARTICLE_ID" />						
		 -->
	</resultMap>

	<statement id="GET_ARTICLE_BY_MAP"  parameterClass="java.util.Map" resultMap="articleMap">
    	SELECT DISTINCT t.* FROM TBL_ARTICLE t WHERE 1 = 1 and t.d_id = #id# and t.d_text = #text#  ORDER BY t.d_id
    </statement>

	<statement id="GET_ARTICLE_BY_ID"  parameterClass="java.lang.Integer" resultMap="articleMap">
    	SELECT DISTINCT t.* FROM TBL_ARTICLE t WHERE 1 = 1 and t.d_id = #id# ORDER BY t.d_id
    </statement>
    
	<statement id="GET_ARTICLE_BY_WEB_ID" parameterClass="java.lang.Integer" resultMap="articleMap">
    	SELECT DISTINCT t.* FROM TBL_ARTICLE t WHERE t.D_WEB_ID = #value# ORDER BY t.d_id
    </statement>
     
	<statement id="GET_ARTICLE_COUNT_BY_WEB_ID" parameterClass="java.lang.Integer" resultClass="java.lang.Integer">
    	SELECT COUNT(T.D_ID) FROM TBL_ARTICLE t WHERE t.D_WEB_ID = #value# ORDER BY t.d_id
    </statement>
    
</sqlMap>



