var decorate_candy_button_bar=function(_1){var EL=_1[0];var _3=(_1[1])?_1[1]:0;var _4=(_1[2])?1:0;var _5=(_1[3])?1:0;var _6=(_1[4])?1:0;var _7=(_1[5])?1:0;var _8=EL.EXT=new candy_button_bar_EXT(EL,_3,_4,_5,_6,_7);return EL;};candy_button_bar_EXT=function(el,_10,_11,_12,_13,_14){var EL=this.EL=el;var EXT=this;EXT.buttons=[];for(var i=0;i<EL.childNodes.length;i++){var _17=EL.childNodes[i];if(!_17.className){if(!_17.childNodes){continue;}if(!_17.childNodes[0]){continue;}if(!_17.childNodes[0].className){continue;}if(_17.childNodes[0].className.indexOf("_button")==-1){continue;}_17=_17.childNodes[0];}if(_17.className.indexOf("_button")>-1){_decorate(_17,null,0,_11,_14);_17.EXT.menu_bar=EXT;EXT.buttons.push(_17.EXT);}else{if(_17.className.indexOf("_menu")>-1){_decorate(_17,_10,_12,_13);}}}for(var i=0;i<EXT.buttons.length;i++){var _18=EXT.buttons[i];var _19=_18.EL.id.replace("button","menu").replace("_split_nav","").replace("_split","");var _20=_ge(_19);if(_20&&_20.EXT){_18.menu=_20.EXT;_20.EXT.iframe=candy_button_iframeify(_20);_20.EXT.button=_18;}}EXT.set_buttons_to_defaults=function(_21){for(var i=0;i<EXT.buttons.length;i++){var _18=EXT.buttons[i];if(_21!=_18){_18.set_to_defaults();}}};};function candy_button_iframeify(_22){if(document.all){var _23="<iframe "+"style='position: absolute; left: -1px; top: 0px; width: 100%; height: 100%; "+"z-index: -1; filter:Alpha(Opacity=\"0\");' "+">";var _24=document.createElement(_23);_22.appendChild(_24);return _24;}return null;}var decorate_candy_menu=function(_25){var EL=_25[0];var _26=(_25[1])?_25[1]:0;var _27=(_25[2])?_25[2]:0;var _28=(_25[3])?_25[3]:0;var EXT=EL.EXT=new candy_menu_EXT(EL,_26,_27,_28);return EL;};candy_menu_EXT=function(el,_29,_30,_31){var EL=this.EL=el;var EXT=this;EXT.items=[];var _32=EL.getElementsByTagName("A");for(var i=0;i<_32.length;i++){var _33=_32[i];EXT.items.push(_33);_33.onclick_default=_33.onclick;_33.onclick=function(){if(EXT.on_item_selected){EXT.on_item_selected();}EXT.button.set_to_defaults();if(typeof this.onclick_default=="function"){return this.onclick_default();}return true;};}EXT.hide_menu=function(){EL.style.display="none";};EXT.show_menu=function(){EL.style.visibility="hidden";EL.style.display="block";var x=_find_x(EXT.button.EL,_30);if(x+EL.offsetWidth>_find_screen_width()){x=_find_screen_width()-EL.offsetWidth;}var y=_find_y(EXT.button.EL,_30)+(EXT.button.EL.height);EL.style.top=(y+_29)+"px";EL.style.left=(x)+"px";if(EXT.button.is_split_nav){EL.style.backgroundPosition=(EXT.button.EL.width-2)+"px 0";}if(EXT.iframe){EXT.iframe.style.width=EL.offsetWidth+"px";EXT.iframe.style.height=EL.offsetHeight+"px";}EL.style.visibility="visible";if(!_31){document.onmousedown=function doc_mousedown(e){var _37=_get_event_src(e);if(_37.className=="candy_button"||_37.className=="candy_split_button"||_37.className=="candy_split_nav_button"||_37.parentNode.className=="candy_menu"||_37.parentNode.parentNode.className=="candy_menu"){document.onmousedown=null;}else{EXT.button.set_to_defaults();}};}};};var decorate_candy_button=function(_38){var EL=_38[0];var _39=(_38[2])?_38[2]:0;var _40=(_38[3])?1:0;var _41=(_38[4])?1:0;var EXT=EL.EXT=new candy_button_EXT(EL,_38[1],_39,_40,_41);return EL;};var decorate_candy_split_button=decorate_candy_split_nav_button=decorate_candy_button;candy_button_EXT=function(el,_42,_43,_44,_45){var EL=this.EL=el;var EXT=this;EXT.is_split=(EL.className.indexOf("_split")>-1);EXT.is_split_nav=(EL.className.indexOf("_split_nav")>-1);EXT.set_img_srcs_and_change=function(_42){EXT.set_img_srcs(_42);EXT.change_src();};EXT.set_img_srcs=function(_46){EXT.on=new Image();EXT.on.src="/images/"+_46+"_default.gif";if(_43){EXT.on_disabled=new Image();EXT.on_disabled.src="/images/"+_46+"_disabled.gif";}if(EXT.is_split_nav){EXT.on_over_right=new Image();EXT.on_over_right.src="/images/"+_46+"_hover_right.gif";EXT.on_over_left=new Image();EXT.on_over_left.src="/images/"+_46+"_hover_left.gif";}else{EXT.on_over=new Image();EXT.on_over.src="/images/"+_46+"_hover.gif";}if(EXT.is_split){EXT.on_down_right=new Image();EXT.on_down_right.src="/images/"+_46+"_selected_right.gif";if(EXT.is_split_nav){EXT.on_down_left=EXT.on_over_left;}else{EXT.on_down_left=new Image();EXT.on_down_left.src="/images/"+_46+"_selected_left.gif";}EXT.on_locked=EXT.on_down_right;}else{if(_44){EXT.on_down=EXT.on_over;}else{EXT.on_down=new Image();EXT.on_down.src="/images/"+_46+"_selected.gif";}EXT.on_locked=EXT.on_down;}};var _47=(_47)?_47:el.src.split("/")[el.src.split("/").length-1].replace("_default.gif","");EXT.set_img_srcs(_47);EXT.isOver=EXT.isDown=EXT.isRightDown=EXT.isRightOver=EXT.isLocked=EXT.wasLocked=0;EL.style.cursor=(document.all)?"hand":"pointer";EL.onclick_default=EL.onclick;EL.onclick=function(e){if(!e){var e=window.event;}if(typeof EL.onclick_default=="function"){return EL.onclick_default();}if(EXT.isLocked==1||EXT.wasLocked==1){if(EXT.wasLocked==1){EXT.wasLocked=0;}return false;}if(EL.parentNode.href){return true;}if(EXT.menu&&EXT.menu.items.length>0){var _48=EXT.menu.items[0].onclick();if(_48){document.location=EXT.menu.items[0].href;}return false;}writeDebug("could not figure out what to do");return false;};EXT.set_to_defaults=function(){if(EXT.menu){EXT.menu.hide_menu();}EXT.isOver=EXT.isDown=EXT.isRightDown=EXT.isRightOver=EXT.isLocked=0;EXT.change_src();};EL.onmouseover=function(e){if(window.should_I_ignore_stuff_because_note_editing||window.should_I_ignore_stuff_because_of_editable_div_action){return;}this.EXT.isOver=1;if(this.EXT.is_split_nav){if(!e){var e=window.event;}var EXT=this.EXT;EXT.isRightOver=EXT.was_this_evt_on_the_right(e);EL.onmousemove=function(e){if(!e){var e=window.event;}var _49=EXT.was_this_evt_on_the_right(e);if(_49!=EXT.isRightOver){EXT.isRightOver=_49;EXT.change_src();}};}this.EXT.change_src();};EL.onmouseout=function(){EL.ommousemove=null;this.EXT.isOver=0;this.EXT.isRightOver=0;if(!this.EXT.isLocked){this.EXT.isDown=0;this.EXT.isRightDown=0;}this.EXT.change_src();};EL.onmousedown=function(e){if(window.should_I_ignore_stuff_because_note_editing||window.should_I_ignore_stuff_because_of_editable_div_action){return;}if(!e){var e=window.event;}this.EXT.isOver=1;this.EXT.isDown=1;if(this.EXT.is_split){this.EXT.isRightDown=this.EXT.was_this_evt_on_the_right(e);}this.EXT.change_src();};EL.onmouseup=function(e){if(document.all&&!window.opera){this.blur();this.parentNode.blur();}if(window.should_I_ignore_stuff_because_note_editing||window.should_I_ignore_stuff_because_of_editable_div_action){return;}if(EXT.disabled){return;}if(!e){var e=window.event;}if(EXT.menu){if(EXT.is_split){if(EXT.isLocked){EXT.menu.hide_menu();EXT.isLocked=0;EXT.wasLocked=1;}else{if(EXT.was_this_evt_on_the_right(e)){EXT.menu.show_menu();EXT.isLocked=1;}}}else{if(EXT.isLocked){EXT.menu.hide_menu();EXT.isLocked=0;EXT.wasLocked=1;}else{EXT.menu.show_menu();EXT.isLocked=1;}}}EXT.isOver=1;if(EXT.isLocked==1&&!_45){EXT.isDown=1;}else{EXT.isDown=0;EXT.isRightDown=0;}EXT.change_src();if(EXT.menu_bar){EXT.menu_bar.set_buttons_to_defaults(EXT);}};EXT.was_this_evt_on_the_right=function(e){var _50=0;var _51=0;if(e.pageX||e.pageY){_50=e.pageX;_51=e.pageY;}else{if(e.clientX||e.clientY){_50=e.clientX+document.body.scrollLeft;_51=e.clientY+document.body.scrollTop;}}var _52=_find_x(EL)+EL.width;var _53=_52-24;var _54=_find_y(EL);var _55=_54+EL.height;return (_53<_50&&_52>_50&&_54<_51&&_55>_51)?1:0;};EXT.disable_self=function(){EXT.disabled=1;EL.style.cursor="default";EXT.change_src();};EXT.enable_self=function(){EXT.disabled=0;EL.style.cursor=(document.all)?"hand":"pointer";EXT.change_src();};EXT.change_src=function(){if(EXT.disabled&&!EXT.on_disabled){return;}var _56="";if(EXT.disabled){_56=EXT.on_disabled.src;}else{if(EXT.isLocked&&!_45){_56=EXT.on_locked.src;}else{if(EXT.isDown){if(EXT.is_split){if(EXT.isRightDown){_56=EXT.on_down_right.src;}else{_56=EXT.on_down_left.src;}}else{_56=EXT.on_down.src;}}else{if(EXT.isOver){if(EXT.is_split_nav){if(EXT.isRightOver){_56=EXT.on_over_right.src;}else{_56=EXT.on_over_left.src;}}else{_56=EXT.on_over.src;}}else{_56=EXT.on.src;}}}}EL.src=_56;};};
